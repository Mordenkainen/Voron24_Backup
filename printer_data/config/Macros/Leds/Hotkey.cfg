[led_effect hotkey_led_button_1_enabled]
leds:
    neopixel:hotkey_leds (1,2)
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)

[led_effect hotkey_led_button_1_disabled]
leds:
    neopixel:hotkey_leds (1,2)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_1_activated]
leds:
    neopixel:hotkey_leds (1,2)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_2_enabled]
leds:
    neopixel:hotkey_leds (3,4)
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)

[led_effect hotkey_led_button_2_disabled]
leds:
    neopixel:hotkey_leds (3,4)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_2_activated]
leds:
    neopixel:hotkey_leds (3,4)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_3_enabled]
leds:
    neopixel:hotkey_leds (5,6)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)

[led_effect hotkey_led_button_3_disabled]
leds:
    neopixel:hotkey_leds (5,6)
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_3_activated]
leds:
    neopixel:hotkey_leds (5,6)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_4_enabled]
leds:
    neopixel:hotkey_leds (7,8)
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)
    
[led_effect hotkey_led_button_4_disabled]
leds:
    neopixel:hotkey_leds (7,8)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_4_activated]
leds:
    neopixel:hotkey_leds (7,8)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_5_enabled]
leds:
    neopixel:hotkey_leds (9,10)
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)

[led_effect hotkey_led_button_5_disabled]
leds:
    neopixel:hotkey_leds (9,10)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_5_activated]
leds:
    neopixel:hotkey_leds (9,10)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_6_enabled]
leds:
    neopixel:hotkey_leds (11,12)
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)
    
[led_effect hotkey_led_button_6_disabled]
leds:
    neopixel:hotkey_leds (11,12)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_6_activated]
leds:
    neopixel:hotkey_leds (11,12)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_7_enabled]
leds:
    neopixel:hotkey_leds (13,14)
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)

[led_effect hotkey_led_button_7_disabled]
leds:
    neopixel:hotkey_leds (13,14)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_7_activated]
leds:
    neopixel:hotkey_leds (13,14)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_8_enabled]
leds:
    neopixel:hotkey_leds (15,16)
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)

[led_effect hotkey_led_button_8_disabled]
leds:
    neopixel:hotkey_leds (15,16)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_8_activated]
leds:
    neopixel:hotkey_leds (15,16)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)
    
[led_effect hotkey_led_button_9_enabled]
leds:
    neopixel:hotkey_leds (17,18)
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)

[led_effect hotkey_led_button_9_disabled]
leds:
    neopixel:hotkey_leds (17,18)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_9_activated]
leds:
    neopixel:hotkey_leds (17,18)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_10_enabled]
leds:
    neopixel:hotkey_leds (19,20)
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)

[led_effect hotkey_led_button_10_disabled]
leds:
    neopixel:hotkey_leds (19,20)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_10_activated]
leds:
    neopixel:hotkey_leds (19,20)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_11_enabled]
leds:
    neopixel:hotkey_leds (21,22)
autostart:                          true
frame_rate:                         24
layers:
    static         0  0     top        (0.0,  0.0, 0.5)

[led_effect hotkey_led_button_11_disabled]
leds:
    neopixel:hotkey_leds (21,22)
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_11_activated]
leds:
    neopixel:hotkey_leds (21,22)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[led_effect hotkey_led_button_12_enabled]
leds:
    neopixel:hotkey_leds (23,24)
autostart:                          true
frame_rate:                         24
layers:
    linearfade         3  1     top        (0.0,  0.0, 0.5) , (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_12_disabled]
leds:
    neopixel:hotkey_leds (23,24)
frame_rate:                         24
layers:
    static         0  0     top        (0.5,  0.0, 0.0)

[led_effect hotkey_led_button_12_activated]
leds:
    neopixel:hotkey_leds (23,24)
frame_rate:                         24
layers:
    breathing         3  1     top        (0.0,  0.5, 0.0)

[gcode_macro _hotkey_standby]
gcode:
    STOP_LED_EFFECTS LEDS="neopixel:hotkey_leds"
    SET_LED_EFFECT EFFECT=hotkey_led_button_3_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_12_enabled

[gcode_macro _hotkey_homed]
gcode:
    STOP_LED_EFFECTS LEDS="neopixel:hotkey_leds"
    SET_LED_EFFECT EFFECT=hotkey_led_button_1_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_2_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_3_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_4_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_5_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_6_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_7_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_8_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_9_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_10_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_11_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_12_enabled

[gcode_macro _hotkey_printing]
gcode:
    STOP_LED_EFFECTS LEDS="neopixel:hotkey_leds"
    SET_LED_EFFECT EFFECT=hotkey_led_button_1_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_2_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_3_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_4_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_5_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_6_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_7_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_8_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_9_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_10_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_11_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_12_enabled

[gcode_macro _hotkey_paused]
gcode:
    STOP_LED_EFFECTS LEDS="neopixel:hotkey_leds"
    SET_LED_EFFECT EFFECT=hotkey_led_button_1_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_2_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_3_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_4_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_5_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_6_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_7_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_8_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_9_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_10_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_11_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_12_enabled

[gcode_macro _hotkey_idle]
gcode:
    STOP_LED_EFFECTS LEDS="neopixel:hotkey_leds"
    SET_LED_EFFECT EFFECT=hotkey_led_button_3_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_4_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_5_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_7_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_8_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_9_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_11_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_12_enabled

  {% if printer.toolhead.homed_axes == "xyz" %}
    SET_LED_EFFECT EFFECT=hotkey_led_button_1_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_2_enabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_6_enabled   
    SET_LED_EFFECT EFFECT=hotkey_led_button_10_enabled
  {% else %}
    SET_LED_EFFECT EFFECT=hotkey_led_button_1_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_2_disabled
    SET_LED_EFFECT EFFECT=hotkey_led_button_6_disabled    
    SET_LED_EFFECT EFFECT=hotkey_led_button_10_disabled
  {% endif %}



[gcode_macro _HOTKEY_PRINT_STATE_CHANGED]
description: Called when print state changes to update LEDs
gcode:
    {% set state = params.STATE|string %}
    {% set old_state = params.OLD_STATE|string %}

    {% if state == "initialized" %}
    {% elif state == "printing" %}
      _hotkey_printing
    {% elif state == "pause_locked" %}
      _hotkey_paused
    {% elif state == "paused" %}
      _hotkey_paused
    {% elif state == "ready" %}
      _hotkey_idle
    {% elif state == "complete" %}
      _hotkey_idle
    {% elif state == "error" %}
      _hotkey_idle
    {% elif state == "cancelled" %}
      _hotkey_idle
    {% elif state == "standby" %}
      {% if printer.mmu.enabled %}
        _hotkey_standby
      {% endif %}
    {% endif %}

[gcode_macro _HOTKEY_SET_CURRENT_STATE]
description: Called to update button LEDs based on printer state
gcode:
   {% set IS_PRINTING = printer["gcode_macro _STATE_VARS"].is_printing%}
   
   {% if printer.toolhead.homed_axes == "xyz" and ({IS_PRINTING} == False or printer.pause_resume.is_paused) %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_1_enabled REPLACE=1
   {% else %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_1_disabled REPLACE=1
   {% endif %}

   {% if printer.toolhead.homed_axes == "xyz" and {IS_PRINTING} == False and not printer.pause_resume.is_paused %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_2_enabled REPLACE=1
   {% else %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_2_disabled REPLACE=1
   {% endif %}
   
   {% if {IS_PRINTING} == False and not printer.pause_resume.is_paused %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_3_enabled REPLACE=1
   {% else %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_3_disabled REPLACE=1
   {% endif %}

   SET_LED_EFFECT EFFECT=hotkey_led_button_4_disabled REPLACE=1
   SET_LED_EFFECT EFFECT=hotkey_led_button_5_disabled REPLACE=1

   {% if printer.toolhead.homed_axes == "xyz" and ({IS_PRINTING} == False or printer.pause_resume.is_paused) %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_6_enabled REPLACE=1
   {% else %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_6_disabled REPLACE=1
   {% endif %}

   {% if printer.pause_resume.is_paused %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_7_enabled REPLACE=1
   {% else %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_7_disabled REPLACE=1
   {% endif %}

   {% if {IS_PRINTING} == True %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_8_enabled REPLACE=1
   {% else %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_8_disabled REPLACE=1
   {% endif %}

   {% if {IS_PRINTING} == True or printer.pause_resume.is_paused %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_9_enabled REPLACE=1
   {% else %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_9_disabled REPLACE=1
   {% endif %}

   {% if printer.toolhead.homed_axes == "xyz" and ({IS_PRINTING} == False or printer.pause_resume.is_paused) %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_10_enabled REPLACE=1
   {% else %}
     SET_LED_EFFECT EFFECT=hotkey_led_button_10_disabled REPLACE=1
   {% endif %}

   SET_LED_EFFECT EFFECT=hotkey_led_button_11_enabled REPLACE=1
   SET_LED_EFFECT EFFECT=hotkey_led_button_12_enabled REPLACE=1
   